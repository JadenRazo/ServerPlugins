<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0d1117"/>
      <stop offset="100%" stop-color="#161b22"/>
    </linearGradient>
    <marker id="arrowGreen" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#4ade80"/></marker>
    <marker id="arrowBlue" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#60a5fa"/></marker>
    <marker id="arrowAmber" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#fbbf24"/></marker>
    <marker id="arrowRed" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#f87171"/></marker>
    <marker id="arrowCyan" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#22d3ee"/></marker>
    <marker id="arrowPink" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#f472b6"/></marker>
  </defs>

  <rect width="1200" height="900" rx="12" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="600" y="42" text-anchor="middle" fill="#f0f6fc" font-size="26" font-weight="700">ServerPlugins Architecture</text>
  <text x="600" y="68" text-anchor="middle" fill="#9198a1" font-size="14">24-module Maven ecosystem for Paper 1.21.4+ — Java 21 — H2 / SQLite / MariaDB</text>

  <!-- ═══ TOP: Shared API Layer ═══ -->
  <rect x="30" y="90" width="1140" height="130" rx="12" fill="#1c2333" stroke="#4ade80" stroke-width="2"/>
  <text x="600" y="118" text-anchor="middle" fill="#4ade80" font-size="18" font-weight="700">server-api  —  Shared Foundation</text>

  <rect x="50" y="132" width="155" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="127" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Database Layer</text>
  <text x="127" y="168" text-anchor="middle" fill="#9198a1" font-size="10">H2 / SQLite / MariaDB</text>

  <rect x="220" y="132" width="155" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="297" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Economy</text>
  <text x="297" y="168" text-anchor="middle" fill="#9198a1" font-size="10">Vault integration</text>

  <rect x="390" y="132" width="155" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="467" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">GUI Framework</text>
  <text x="467" y="168" text-anchor="middle" fill="#9198a1" font-size="10">Paginated menus</text>

  <rect x="560" y="132" width="155" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="637" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">TextUtil</text>
  <text x="637" y="168" text-anchor="middle" fill="#9198a1" font-size="10">MiniMessage + Colors</text>

  <rect x="730" y="132" width="155" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="807" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Permissions</text>
  <text x="807" y="168" text-anchor="middle" fill="#9198a1" font-size="10">LuckPerms API</text>

  <rect x="900" y="132" width="130" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="965" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Protection</text>
  <text x="965" y="168" text-anchor="middle" fill="#9198a1" font-size="10">WorldGuard</text>

  <rect x="1045" y="132" width="110" height="44" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="1100" y="153" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Gems API</text>
  <text x="1100" y="168" text-anchor="middle" fill="#9198a1" font-size="10">Premium currency</text>

  <!-- Dependency arrows from API down -->
  <line x1="300" y1="220" x2="300" y2="250" stroke="#4ade80" stroke-width="2.5" marker-end="url(#arrowGreen)"/>
  <line x1="600" y1="220" x2="600" y2="250" stroke="#4ade80" stroke-width="2.5" marker-end="url(#arrowGreen)"/>
  <line x1="950" y1="220" x2="950" y2="250" stroke="#4ade80" stroke-width="2.5" marker-end="url(#arrowGreen)"/>
  <text x="600" y="240" text-anchor="middle" fill="#4ade80" font-size="11" font-weight="600">all plugins depend on server-api (provided scope)</text>

  <!-- ═══ ROW 2: Core Gameplay ═══ -->
  <rect x="30" y="255" width="560" height="210" rx="12" fill="#1c2333" stroke="#60a5fa" stroke-width="2"/>
  <text x="310" y="282" text-anchor="middle" fill="#93c5fd" font-size="16" font-weight="700">Core Gameplay</text>

  <rect x="50" y="296" width="130" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="115" y="317" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-claim</text>
  <text x="115" y="334" text-anchor="middle" fill="#9198a1" font-size="10">Chunks, nations, war</text>

  <rect x="192" y="296" width="130" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="257" y="317" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-backpacks</text>
  <text x="257" y="334" text-anchor="middle" fill="#9198a1" font-size="10">6-tier virtual storage</text>

  <rect x="334" y="296" width="120" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="394" y="317" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-core</text>
  <text x="394" y="334" text-anchor="middle" fill="#9198a1" font-size="10">Totem, spawners</text>

  <rect x="466" y="296" width="115" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="523" y="317" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-cmds</text>
  <text x="523" y="334" text-anchor="middle" fill="#9198a1" font-size="10">Homes, warps, TPs</text>

  <rect x="50" y="356" width="130" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="115" y="377" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-events</text>
  <text x="115" y="394" text-anchor="middle" fill="#9198a1" font-size="10">Drop party, dragon</text>

  <rect x="192" y="356" width="130" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="257" y="377" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-keys</text>
  <text x="257" y="394" text-anchor="middle" fill="#9198a1" font-size="10">Crate keys, mass dist</text>

  <rect x="334" y="356" width="120" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="394" y="377" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">server-death</text>
  <text x="394" y="394" text-anchor="middle" fill="#9198a1" font-size="10">Inventory recovery</text>

  <rect x="466" y="356" width="115" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="523" y="377" text-anchor="middle" fill="#93c5fd" font-size="12" font-weight="600">+6 more</text>
  <text x="523" y="394" text-anchor="middle" fill="#9198a1" font-size="10">npcs, afk, filter...</text>

  <!-- ═══ ROW 2 RIGHT: Arcade ═══ -->
  <rect x="605" y="255" width="270" height="210" rx="12" fill="#1c2333" stroke="#fbbf24" stroke-width="2"/>
  <text x="740" y="282" text-anchor="middle" fill="#fbbf24" font-size="16" font-weight="700">server-arcade</text>
  <text x="740" y="300" text-anchor="middle" fill="#9198a1" font-size="11">Casino system — 8 game modes</text>

  <rect x="620" y="314" width="120" height="34" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="0.8"/>
  <text x="680" y="336" text-anchor="middle" fill="#fbbf24" font-size="12" font-weight="600">Slots</text>
  <rect x="750" y="314" width="120" height="34" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="0.8"/>
  <text x="810" y="336" text-anchor="middle" fill="#fbbf24" font-size="12" font-weight="600">Blackjack</text>
  <rect x="620" y="356" width="120" height="34" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="0.8"/>
  <text x="680" y="378" text-anchor="middle" fill="#fbbf24" font-size="12" font-weight="600">Crash</text>
  <rect x="750" y="356" width="120" height="34" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="0.8"/>
  <text x="810" y="378" text-anchor="middle" fill="#fbbf24" font-size="12" font-weight="600">Coinflip</text>
  <rect x="620" y="398" width="120" height="34" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="0.8"/>
  <text x="680" y="420" text-anchor="middle" fill="#fbbf24" font-size="12" font-weight="600">Jackpot</text>
  <rect x="750" y="398" width="120" height="34" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="0.8"/>
  <text x="810" y="420" text-anchor="middle" fill="#fbbf24" font-size="12" font-weight="600">Dice</text>

  <!-- ═══ ROW 2 FAR RIGHT: Admin ═══ -->
  <rect x="890" y="255" width="280" height="210" rx="12" fill="#1c2333" stroke="#f87171" stroke-width="2"/>
  <text x="1030" y="282" text-anchor="middle" fill="#fca5a5" font-size="16" font-weight="700">Administration</text>

  <rect x="905" y="300" width="250" height="36" rx="6" fill="#1e1a1a" stroke="#f87171" stroke-width="0.8"/>
  <text x="1030" y="324" text-anchor="middle" fill="#fca5a5" font-size="12" font-weight="600">server-admin — vanish, freeze, xray</text>

  <rect x="905" y="344" width="250" height="36" rx="6" fill="#1e1a1a" stroke="#f87171" stroke-width="0.8"/>
  <text x="1030" y="368" text-anchor="middle" fill="#fca5a5" font-size="12" font-weight="600">server-stats — HTTP REST API</text>

  <rect x="905" y="388" width="250" height="36" rx="6" fill="#1e1a1a" stroke="#f87171" stroke-width="0.8"/>
  <text x="1030" y="412" text-anchor="middle" fill="#fca5a5" font-size="12" font-weight="600">server-bluemap + server-mobhealth</text>

  <!-- ═══ ROW 3: Content, Cross-Server, Velocity ═══ -->
  <rect x="30" y="485" width="300" height="110" rx="12" fill="#1c2333" stroke="#c084fc" stroke-width="2"/>
  <text x="180" y="512" text-anchor="middle" fill="#e9d5ff" font-size="16" font-weight="700">Content</text>

  <rect x="48" y="524" width="130" height="36" rx="6" fill="#2d1f3d" stroke="#c084fc" stroke-width="0.8"/>
  <text x="113" y="548" text-anchor="middle" fill="#d8b4fe" font-size="12" font-weight="600">server-items</text>

  <rect x="188" y="524" width="130" height="36" rx="6" fill="#2d1f3d" stroke="#c084fc" stroke-width="0.8"/>
  <text x="253" y="548" text-anchor="middle" fill="#d8b4fe" font-size="12" font-weight="600">server-enchants</text>

  <!-- Cross-Server -->
  <rect x="345" y="485" width="360" height="110" rx="12" fill="#1c2333" stroke="#22d3ee" stroke-width="2"/>
  <text x="525" y="512" text-anchor="middle" fill="#67e8f9" font-size="16" font-weight="700">Cross-Server (Redis)</text>

  <rect x="360" y="524" width="105" height="36" rx="6" fill="#0e2a32" stroke="#22d3ee" stroke-width="0.8"/>
  <text x="412" y="548" text-anchor="middle" fill="#67e8f9" font-size="11" font-weight="600">server-bridge</text>

  <rect x="475" y="524" width="105" height="36" rx="6" fill="#0e2a32" stroke="#22d3ee" stroke-width="0.8"/>
  <text x="527" y="548" text-anchor="middle" fill="#67e8f9" font-size="11" font-weight="600">bridge-velocity</text>

  <rect x="590" y="524" width="105" height="36" rx="6" fill="#0e2a32" stroke="#22d3ee" stroke-width="0.8"/>
  <text x="642" y="548" text-anchor="middle" fill="#67e8f9" font-size="11" font-weight="600">admin-velocity</text>

  <text x="525" y="584" text-anchor="middle" fill="#9198a1" font-size="11">Redis pub/sub between SMP + Velocity proxy</text>

  <!-- Velocity -->
  <rect x="720" y="485" width="450" height="110" rx="12" fill="#1c2333" stroke="#f472b6" stroke-width="2"/>
  <text x="945" y="512" text-anchor="middle" fill="#f9a8d4" font-size="16" font-weight="700">Velocity Proxy</text>

  <rect x="740" y="524" width="195" height="36" rx="6" fill="#2d1a2e" stroke="#f472b6" stroke-width="0.8"/>
  <text x="837" y="548" text-anchor="middle" fill="#f9a8d4" font-size="12" font-weight="600">server-resourcepack-velocity</text>

  <rect x="945" y="524" width="195" height="36" rx="6" fill="#2d1a2e" stroke="#f472b6" stroke-width="0.8"/>
  <text x="1042" y="548" text-anchor="middle" fill="#f9a8d4" font-size="12" font-weight="600">server-admin-velocity</text>

  <!-- ═══ BOTTOM: Infrastructure ═══ -->
  <rect x="30" y="615" width="1140" height="110" rx="12" fill="#1c2333" stroke="#4ade80" stroke-width="2"/>
  <text x="600" y="642" text-anchor="middle" fill="#4ade80" font-size="18" font-weight="700">Infrastructure</text>

  <rect x="50" y="656" width="155" height="48" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="127" y="677" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Paper 1.21.4+</text>
  <text x="127" y="694" text-anchor="middle" fill="#9198a1" font-size="10">Purpur fork, Java 21</text>

  <rect x="220" y="656" width="155" height="48" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="297" y="677" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">MariaDB</text>
  <text x="297" y="694" text-anchor="middle" fill="#9198a1" font-size="10">HikariCP + H2/SQLite</text>

  <rect x="390" y="656" width="155" height="48" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="467" y="677" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Redis</text>
  <text x="467" y="694" text-anchor="middle" fill="#9198a1" font-size="10">Cross-server pub/sub</text>

  <rect x="560" y="656" width="155" height="48" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="637" y="677" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">Vault + LuckPerms</text>
  <text x="637" y="694" text-anchor="middle" fill="#9198a1" font-size="10">Economy + permissions</text>

  <rect x="730" y="656" width="155" height="48" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="807" y="677" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">WorldGuard</text>
  <text x="807" y="694" text-anchor="middle" fill="#9198a1" font-size="10">Region protection</text>

  <rect x="900" y="656" width="260" height="48" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="1030" y="677" text-anchor="middle" fill="#86efac" font-size="13" font-weight="600">ProtocolLib + PacketEvents</text>
  <text x="1030" y="694" text-anchor="middle" fill="#9198a1" font-size="10">Packet manipulation</text>

  <!-- ═══ BOTTOM: Build Pipeline ═══ -->
  <rect x="30" y="745" width="1140" height="70" rx="12" fill="#1c2333" stroke="#7d8590" stroke-width="1.5"/>
  <text x="600" y="772" text-anchor="middle" fill="#f0f6fc" font-size="15" font-weight="700">Build &amp; Deploy Pipeline</text>

  <text x="600" y="798" text-anchor="middle" fill="#9198a1" font-size="13">Maven 3.9+  ·  Spotless  ·  JaCoCo  ·  OWASP  ·  SpotBugs  ·  MockBukkit  ·  GitLab CI  ·  SFTP Deploy</text>

  <!-- ═══ Footer ═══ -->
  <text x="600" y="860" text-anchor="middle" fill="#7d8590" font-size="12">24 modules  ·  ~174k lines of Java  ·  810 source files  ·  Java 21  ·  Paper API  ·  GPL v3</text>

  <!-- ═══ Connection arrows (thick, solid, visible) ═══ -->
  <!-- API → Core Gameplay -->
  <path d="M200,220 L200,255" stroke="#60a5fa" stroke-width="3" marker-end="url(#arrowBlue)" fill="none"/>
  <!-- API → Arcade -->
  <path d="M740,220 L740,255" stroke="#fbbf24" stroke-width="3" marker-end="url(#arrowAmber)" fill="none"/>
  <!-- API → Admin -->
  <path d="M1030,220 L1030,255" stroke="#f87171" stroke-width="3" marker-end="url(#arrowRed)" fill="none"/>

  <!-- Core → Cross-Server -->
  <path d="M310,465 L420,485" stroke="#22d3ee" stroke-width="2.5" marker-end="url(#arrowCyan)" fill="none"/>
  <!-- Cross-Server → Velocity -->
  <path d="M705,540 L720,540" stroke="#f472b6" stroke-width="2.5" marker-end="url(#arrowPink)" fill="none"/>

  <!-- All sections → Infrastructure -->
  <path d="M300,595 L300,615" stroke="#4ade80" stroke-width="2.5" marker-end="url(#arrowGreen)" fill="none"/>
  <path d="M600,595 L600,615" stroke="#4ade80" stroke-width="2.5" marker-end="url(#arrowGreen)" fill="none"/>
  <path d="M950,595 L950,615" stroke="#4ade80" stroke-width="2.5" marker-end="url(#arrowGreen)" fill="none"/>
</svg>