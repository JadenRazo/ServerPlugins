<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 820" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="108%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0d1117"/>
      <stop offset="100%" stop-color="#161b22"/>
    </linearGradient>
    <marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#4ade80"/></marker>
    <marker id="arrowBlue" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#3b82f6"/></marker>
    <marker id="arrowAmber" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#f59e0b"/></marker>
    <marker id="arrowCyan" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#06b6d4"/></marker>
    <marker id="arrowPurple" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#c084fc"/></marker>
    <marker id="arrowRed" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#ef4444"/></marker>
  </defs>

  <rect width="1100" height="820" rx="12" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="550" y="38" text-anchor="middle" fill="#e6edf3" font-size="22" font-weight="700">ServerPlugins Architecture</text>
  <text x="550" y="58" text-anchor="middle" fill="#7d8590" font-size="12">24-module Maven ecosystem for Paper 1.21.4+ | Java 21 | H2 / SQLite / MariaDB</text>

  <!-- ═══ TOP: Shared API Layer ═══ -->
  <rect x="20" y="78" width="1060" height="115" rx="10" fill="#1c2333" stroke="#4ade80" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="550" y="100" text-anchor="middle" fill="#4ade80" font-size="14" font-weight="700">server-api — Shared Foundation</text>

  <rect x="35" y="112" width="145" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="107" y="133" text-anchor="middle" fill="#86efac" font-size="10">Database Layer</text>
  <text x="107" y="143" text-anchor="middle" fill="#7d8590" font-size="7">H2 / SQLite / MariaDB</text>

  <rect x="190" y="112" width="145" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="262" y="133" text-anchor="middle" fill="#86efac" font-size="10">Economy Provider</text>
  <text x="262" y="143" text-anchor="middle" fill="#7d8590" font-size="7">Vault integration</text>

  <rect x="345" y="112" width="145" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="417" y="133" text-anchor="middle" fill="#86efac" font-size="10">GUI Framework</text>
  <text x="417" y="143" text-anchor="middle" fill="#7d8590" font-size="7">Paginated menus</text>

  <rect x="500" y="112" width="145" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="572" y="133" text-anchor="middle" fill="#86efac" font-size="10">TextUtil / Messages</text>
  <text x="572" y="143" text-anchor="middle" fill="#7d8590" font-size="7">MiniMessage + ColorScheme</text>

  <rect x="655" y="112" width="145" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="727" y="133" text-anchor="middle" fill="#86efac" font-size="10">Permission Provider</text>
  <text x="727" y="143" text-anchor="middle" fill="#7d8590" font-size="7">LuckPerms API</text>

  <rect x="810" y="112" width="145" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="882" y="133" text-anchor="middle" fill="#86efac" font-size="10">Protection Utils</text>
  <text x="882" y="143" text-anchor="middle" fill="#7d8590" font-size="7">WorldGuard + SellGUI</text>

  <rect x="965" y="112" width="105" height="32" rx="6" fill="#1a2e1a" stroke="#4ade80" stroke-width="0.5"/>
  <text x="1017" y="133" text-anchor="middle" fill="#86efac" font-size="10">Gems API</text>
  <text x="1017" y="143" text-anchor="middle" fill="#7d8590" font-size="7">Premium currency</text>

  <!-- Arrow down from API -->
  <text x="550" y="173" text-anchor="middle" fill="#4ade80" font-size="9" font-style="italic">all plugins depend on server-api (provided scope)</text>

  <!-- ═══ ROW 2: Core Gameplay Plugins ═══ -->
  <rect x="20" y="205" width="530" height="170" rx="10" fill="#1c2333" stroke="#3b82f6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="285" y="228" text-anchor="middle" fill="#93c5fd" font-size="13" font-weight="600">Core Gameplay</text>

  <rect x="35" y="240" width="120" height="40" rx="6" fill="#1e293b"/>
  <text x="95" y="257" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-claim</text>
  <text x="95" y="270" text-anchor="middle" fill="#7d8590" font-size="7">Chunks, nations, warfare</text>

  <rect x="165" y="240" width="120" height="40" rx="6" fill="#1e293b"/>
  <text x="225" y="257" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-backpacks</text>
  <text x="225" y="270" text-anchor="middle" fill="#7d8590" font-size="7">6-tier virtual storage</text>

  <rect x="295" y="240" width="120" height="40" rx="6" fill="#1e293b"/>
  <text x="355" y="257" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-core</text>
  <text x="355" y="270" text-anchor="middle" fill="#7d8590" font-size="7">Totem, spawners, emojis</text>

  <rect x="425" y="240" width="115" height="40" rx="6" fill="#1e293b"/>
  <text x="482" y="257" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-commands</text>
  <text x="482" y="270" text-anchor="middle" fill="#7d8590" font-size="7">Homes, warps, TPs</text>

  <rect x="35" y="290" width="120" height="40" rx="6" fill="#1e293b"/>
  <text x="95" y="307" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-events</text>
  <text x="95" y="320" text-anchor="middle" fill="#7d8590" font-size="7">Drop party, dragon, math</text>

  <rect x="165" y="290" width="120" height="40" rx="6" fill="#1e293b"/>
  <text x="225" y="307" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-keys</text>
  <text x="225" y="320" text-anchor="middle" fill="#7d8590" font-size="7">Crate keys, mass dist</text>

  <rect x="295" y="290" width="120" height="40" rx="6" fill="#1e293b"/>
  <text x="355" y="307" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-death-buyback</text>
  <text x="355" y="320" text-anchor="middle" fill="#7d8590" font-size="7">Death inventory recovery</text>

  <rect x="425" y="290" width="115" height="40" rx="6" fill="#1e293b"/>
  <text x="482" y="307" text-anchor="middle" fill="#60a5fa" font-size="10" font-weight="600">server-bounty</text>
  <text x="482" y="320" text-anchor="middle" fill="#7d8590" font-size="7">Player bounties + heads</text>

  <rect x="35" y="340" width="120" height="26" rx="6" fill="#1e293b"/>
  <text x="95" y="358" text-anchor="middle" fill="#60a5fa" font-size="9">server-npcs</text>
  <rect x="165" y="340" width="120" height="26" rx="6" fill="#1e293b"/>
  <text x="225" y="358" text-anchor="middle" fill="#60a5fa" font-size="9">server-parkour</text>
  <rect x="295" y="340" width="120" height="26" rx="6" fill="#1e293b"/>
  <text x="355" y="358" text-anchor="middle" fill="#60a5fa" font-size="9">server-afk</text>
  <rect x="425" y="340" width="115" height="26" rx="6" fill="#1e293b"/>
  <text x="482" y="358" text-anchor="middle" fill="#60a5fa" font-size="9">server-filter</text>

  <!-- ═══ ROW 2 RIGHT: Arcade ═══ -->
  <rect x="565" y="205" width="250" height="170" rx="10" fill="#1c2333" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="690" y="228" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">server-arcade</text>
  <text x="690" y="242" text-anchor="middle" fill="#7d8590" font-size="9">Casino system with 8 game modes</text>

  <rect x="578" y="254" width="110" height="22" rx="5" fill="#292524"/>
  <text x="633" y="269" text-anchor="middle" fill="#fbbf24" font-size="9">Slots</text>
  <rect x="695" y="254" width="110" height="22" rx="5" fill="#292524"/>
  <text x="750" y="269" text-anchor="middle" fill="#fbbf24" font-size="9">Blackjack</text>
  <rect x="578" y="282" width="110" height="22" rx="5" fill="#292524"/>
  <text x="633" y="297" text-anchor="middle" fill="#fbbf24" font-size="9">Crash</text>
  <rect x="695" y="282" width="110" height="22" rx="5" fill="#292524"/>
  <text x="750" y="297" text-anchor="middle" fill="#fbbf24" font-size="9">Coinflip</text>
  <rect x="578" y="310" width="110" height="22" rx="5" fill="#292524"/>
  <text x="633" y="325" text-anchor="middle" fill="#fbbf24" font-size="9">Jackpot</text>
  <rect x="695" y="310" width="110" height="22" rx="5" fill="#292524"/>
  <text x="750" y="325" text-anchor="middle" fill="#fbbf24" font-size="9">Dice</text>
  <rect x="578" y="338" width="110" height="22" rx="5" fill="#292524"/>
  <text x="633" y="353" text-anchor="middle" fill="#fbbf24" font-size="9">Baccarat</text>
  <rect x="695" y="338" width="110" height="22" rx="5" fill="#292524"/>
  <text x="750" y="353" text-anchor="middle" fill="#fbbf24" font-size="9">Roulette</text>

  <!-- ═══ ROW 2 FAR RIGHT: Admin ═══ -->
  <rect x="830" y="205" width="250" height="170" rx="10" fill="#1c2333" stroke="#ef4444" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="955" y="228" text-anchor="middle" fill="#fca5a5" font-size="13" font-weight="600">Administration</text>

  <rect x="843" y="244" width="224" height="26" rx="5" fill="#1e1a1a"/>
  <text x="955" y="262" text-anchor="middle" fill="#ef4444" font-size="10">server-admin — vanish, freeze, xray, punish</text>
  <rect x="843" y="276" width="224" height="26" rx="5" fill="#1e1a1a"/>
  <text x="955" y="294" text-anchor="middle" fill="#ef4444" font-size="10">server-stats — HTTP REST API</text>
  <rect x="843" y="308" width="224" height="26" rx="5" fill="#1e1a1a"/>
  <text x="955" y="326" text-anchor="middle" fill="#ef4444" font-size="10">server-bluemap — BlueMap POI integration</text>
  <rect x="843" y="340" width="224" height="26" rx="5" fill="#1e1a1a"/>
  <text x="955" y="358" text-anchor="middle" fill="#ef4444" font-size="10">server-mobhealth — Mob health display</text>

  <!-- ═══ ROW 3: New Modules ═══ -->
  <rect x="20" y="390" width="350" height="100" rx="10" fill="#1c2333" stroke="#c084fc" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="195" y="413" text-anchor="middle" fill="#e9d5ff" font-size="13" font-weight="600">Content Modules</text>

  <rect x="35" y="425" width="155" height="28" rx="5" fill="#2d1f3d"/>
  <text x="112" y="444" text-anchor="middle" fill="#c084fc" font-size="10">server-items — Custom items API</text>
  <rect x="200" y="425" width="160" height="28" rx="5" fill="#2d1f3d"/>
  <text x="280" y="444" text-anchor="middle" fill="#c084fc" font-size="10">server-enchants — Custom enchants</text>

  <!-- ═══ ROW 3 CENTER: Cross-Server ═══ -->
  <rect x="385" y="390" width="340" height="100" rx="10" fill="#1c2333" stroke="#06b6d4" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="555" y="413" text-anchor="middle" fill="#67e8f9" font-size="13" font-weight="600">Cross-Server (Redis)</text>

  <rect x="398" y="425" width="100" height="28" rx="5" fill="#0e2a32"/>
  <text x="448" y="444" text-anchor="middle" fill="#22d3ee" font-size="9">server-bridge</text>
  <rect x="506" y="425" width="100" height="28" rx="5" fill="#0e2a32"/>
  <text x="556" y="444" text-anchor="middle" fill="#22d3ee" font-size="8">bridge-velocity</text>
  <rect x="614" y="425" width="100" height="28" rx="5" fill="#0e2a32"/>
  <text x="664" y="444" text-anchor="middle" fill="#22d3ee" font-size="8">admin-velocity</text>

  <text x="555" y="478" text-anchor="middle" fill="#7d8590" font-size="8">Redis pub/sub messaging between SMP + Velocity proxy</text>

  <!-- ═══ ROW 3 RIGHT: Velocity ═══ -->
  <rect x="740" y="390" width="340" height="100" rx="10" fill="#1c2333" stroke="#f472b6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="910" y="413" text-anchor="middle" fill="#f9a8d4" font-size="13" font-weight="600">Velocity Proxy</text>

  <rect x="755" y="425" width="155" height="28" rx="5" fill="#2d1a2e"/>
  <text x="832" y="444" text-anchor="middle" fill="#f472b6" font-size="9">server-resourcepack-velocity</text>
  <rect x="918" y="425" width="150" height="28" rx="5" fill="#2d1a2e"/>
  <text x="993" y="444" text-anchor="middle" fill="#f472b6" font-size="9">server-admin-velocity</text>

  <text x="910" y="478" text-anchor="middle" fill="#7d8590" font-size="8">Resource pack distribution + proxy admin tools</text>

  <!-- ═══ BOTTOM: Infrastructure ═══ -->
  <rect x="20" y="510" width="1060" height="120" rx="10" fill="#1c2333" stroke="#22c55e" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="550" y="535" text-anchor="middle" fill="#4ade80" font-size="14" font-weight="700">Infrastructure</text>

  <rect x="40" y="548" width="155" height="42" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="117" y="565" text-anchor="middle" fill="#4ade80" font-size="10" font-weight="600">Paper 1.21.4+</text>
  <text x="117" y="580" text-anchor="middle" fill="#86efac" font-size="8">Purpur fork, Java 21</text>

  <rect x="210" y="548" width="155" height="42" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="287" y="565" text-anchor="middle" fill="#4ade80" font-size="10" font-weight="600">MariaDB</text>
  <text x="287" y="580" text-anchor="middle" fill="#86efac" font-size="8">HikariCP pool + H2/SQLite</text>

  <rect x="380" y="548" width="155" height="42" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="457" y="565" text-anchor="middle" fill="#4ade80" font-size="10" font-weight="600">Redis</text>
  <text x="457" y="580" text-anchor="middle" fill="#86efac" font-size="8">Cross-server pub/sub</text>

  <rect x="550" y="548" width="155" height="42" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="627" y="565" text-anchor="middle" fill="#4ade80" font-size="10" font-weight="600">Vault + LuckPerms</text>
  <text x="627" y="580" text-anchor="middle" fill="#86efac" font-size="8">Economy + permissions</text>

  <rect x="720" y="548" width="155" height="42" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="797" y="565" text-anchor="middle" fill="#4ade80" font-size="10" font-weight="600">WorldGuard</text>
  <text x="797" y="580" text-anchor="middle" fill="#86efac" font-size="8">Region protection + flags</text>

  <rect x="890" y="548" width="180" height="42" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1"/>
  <text x="980" y="565" text-anchor="middle" fill="#4ade80" font-size="10" font-weight="600">ProtocolLib + PacketEvents</text>
  <text x="980" y="580" text-anchor="middle" fill="#86efac" font-size="8">Packet manipulation</text>

  <text x="550" y="618" text-anchor="middle" fill="#7d8590" font-size="9" font-style="italic">PlaceholderAPI | CombatLogX | BlueMap | bStats</text>

  <!-- ═══ BOTTOM: Build + Deploy ═══ -->
  <rect x="20" y="650" width="1060" height="80" rx="10" fill="#1c2333" stroke="#7d8590" stroke-width="1" filter="url(#shadow)"/>
  <text x="550" y="673" text-anchor="middle" fill="#e6edf3" font-size="13" font-weight="600">Build &amp; Deploy Pipeline</text>

  <rect x="40" y="685" width="130" height="30" rx="6" fill="#21262d"/>
  <text x="105" y="705" text-anchor="middle" fill="#7d8590" font-size="10">Maven 3.9+</text>
  <rect x="185" y="685" width="130" height="30" rx="6" fill="#21262d"/>
  <text x="250" y="705" text-anchor="middle" fill="#7d8590" font-size="10">Spotless + PMD</text>
  <rect x="330" y="685" width="130" height="30" rx="6" fill="#21262d"/>
  <text x="395" y="705" text-anchor="middle" fill="#7d8590" font-size="10">JaCoCo Coverage</text>
  <rect x="475" y="685" width="130" height="30" rx="6" fill="#21262d"/>
  <text x="540" y="705" text-anchor="middle" fill="#7d8590" font-size="10">OWASP + SpotBugs</text>
  <rect x="620" y="685" width="130" height="30" rx="6" fill="#21262d"/>
  <text x="685" y="705" text-anchor="middle" fill="#7d8590" font-size="10">Error Prone</text>
  <rect x="765" y="685" width="130" height="30" rx="6" fill="#21262d"/>
  <text x="830" y="705" text-anchor="middle" fill="#7d8590" font-size="10">MockBukkit Tests</text>
  <rect x="910" y="685" width="160" height="30" rx="6" fill="#21262d"/>
  <text x="990" y="705" text-anchor="middle" fill="#7d8590" font-size="10">GitLab CI / SFTP Deploy</text>

  <!-- Footer -->
  <text x="550" y="760" text-anchor="middle" fill="#7d8590" font-size="10">24 modules | ~174k lines of Java | 810 source files | Java 21 | Paper API | GPL v3</text>

  <!-- Data flow arrows -->
  <line x1="550" y1="193" x2="285" y2="205" stroke="#3b82f6" stroke-width="1" stroke-dasharray="4,2" marker-end="url(#arrowBlue)"/>
  <line x1="550" y1="193" x2="690" y2="205" stroke="#f59e0b" stroke-width="1" stroke-dasharray="4,2" marker-end="url(#arrowAmber)"/>
  <line x1="550" y1="193" x2="955" y2="205" stroke="#ef4444" stroke-width="1" stroke-dasharray="4,2" marker-end="url(#arrowRed)"/>
</svg>
